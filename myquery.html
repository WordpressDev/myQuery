<html>
<head>
  <title></title>
</head>
<body>

<div id="container">
AOL
</div>

<div class="item">a</div>
<div class="item">b</div>
<div class="item">c</div>


<script type="text/javascript">

// Light-weight DOM library for
// learning purposes
// Copyright Addy Osmani, 2011.
var myQuery = function( selector ){

  // As per jQuery, handle myQuery('')
  // myQuery(null) or myQuery(undefined)
  if(!selector){
    return this;
  }

  // Handle selections with an ID, if not
  // an ID selector, pass to qSA
  this.selection = (selector.indexOf('#')>=0)? 
    document.getElementById(selector)[0] : 
    document.querySelectorAll(selector);


  // Set the length of myQuery to the selection
  // length or 0
  this.length = this.selection.length || 0;


  // Set attribute values 
  // e.g.: el.attr(prop, val);
  this.attr = function(prop, val){
    this.access(this.selection, prop, val);
    return this;
  }


  // Set CSS property values
  // e.g.: el.css(prop, val);
  this.css = function( prop, val ){
    if(this.length && this.length >0){
      for(i=0; i<this.length; i++){
        this.access(this.selection[i].style, prop, val);
      }
    }else{
      this.access(this.selection.style, prop, val);
    }
    return this;
  }

  // A generic property setter
  this.access = function( context, prop, val){
    if(context && prop && val!==undefined){
      context[prop] = val;
    }else{

    }
  }

  // Bind an eventType to a handler
  // el.bind(eventName, handler)
  this.bind = function(eventName, handler) {
    var element = this.selection;
      if (element.addEventListener) {
        element.addEventListener(eventName, handler, false);
      }
      else if (element.attachEvent) {
        element.attachEvent('on' + eventName, handler);
      }
      else {
        element['on' + eventName] = handler;
      }
      return this;
  };


  this.log = function(){
    console.log(this.selection);
  };


  if(this instanceof myQuery){
    return this.myQuery;
  }else{
    return new myQuery(selector);
  }

}


myQuery('#container')
            .css('color','red')
            .attr('id', 'myContainer')
            .attr('title','testing')
            .bind('click', function(){
              console.log('magic');
            })
            .css('background-color','green')
            .bind('mouseover', function(){
              console.log('hover');
            })
            .css('width','400px');


myQuery('.item').css('color','green');
</script>

<style>
#container{
  width:300px;
  height:300px;
  border:1px solid black;
}

.item{
  color:blue;
}
</style>



</body>
</html>

